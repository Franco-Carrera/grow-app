(this["webpackJsonpgrow-app"]=this["webpackJsonpgrow-app"]||[]).push([[0],{55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},59:function(e,t,c){},61:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},72:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){"use strict";c.r(t);var n=c(5),a=c.n(n),i=c(47),s=c.n(i),r=(c(55),c(56),c(14)),o=c(13),j=c(9),l=(c(57),c(2)),d=a.a.createContext(),b=function(e){var t=e.children;console.log(t);var c=Object(n.useState)(),a=Object(j.a)(c,2),i=a[0],s=a[1];return Object(l.jsx)(d.Provider,{value:{user:i,login:function(e){s(e.username)},logout:function(){s()}},children:t})},u=d,O=c(26),m=c(25),x=a.a.createContext(),f=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(j.a)(c,2),i=a[0],s=a[1],r=Object(n.useState)(0),o=Object(j.a)(r,2),d=o[0],b=o[1],u=Object(n.useState)(0),f=Object(j.a)(u,2),h=f[0],v=f[1];Object(n.useEffect)((function(){var e=0,t=0;i.forEach((function(t){return e+=t.quantity})),b(e),i.forEach((function(e){return t+=e.price*e.quantity})),v(t)}),[i]);var p=function(e){return i.some((function(t){return t.id===e}))},g=function(e,t){var c=Object(O.a)(i),n=c.find((function(t){return t.id===e})),a=c.findIndex((function(t){return t.id===e}));n.quantity=n.quantity+t,c.splice(a,1,n),s(c)};return Object(l.jsx)(x.Provider,{value:{addedProducts:i,cartQuantity:d,addItem:function(e,t){if(p(e.id))console.log("actualize carrito"),g(e.id,t);else{console.log("agregando al carrito");var c=Object(m.a)(Object(m.a)({},e),{},{quantity:t}),n=[].concat(Object(O.a)(i),[c]);s(n)}},removeItem:function(e){var t=Object(O.a)(i),c=t.findIndex((function(t){return t.id===e}));t.splice(c,1),s(t)},clear:function(){s([])},price:h,getQuantity:function(){var e=0;return i.forEach((function(t){e+=t.quantity})),e}},children:t})},h=x,v=a.a.createContext(),p=function(e){var t=e.children,c=Object(n.useState)(""),a=Object(j.a)(c,2),i=a[0],s=a[1],r=Object(n.useState)(""),o=Object(j.a)(r,2),d=o[0],b=o[1];return Object(l.jsx)(v.Provider,{value:{notification:{message:i,severity:d},setNotification:function(e,t){s(t),b(e),setTimeout((function(){s("")}),2e3)}},children:t})},g=v,N=(c(59),function(e){var t=e.label,c=e.clickHandler;return Object(l.jsx)("button",{onClick:c,className:"btn_Handler",children:t})}),_=c(48),C=c(16),y=_.a({apiKey:"AIzaSyBmLxldJL3TD3HPwiSenjfE0e270oT2YEE",authDomain:"mi-proyecto-react-4dfa2.firebaseapp.com",projectId:"mi-proyecto-react-4dfa2",storageBucket:"mi-proyecto-react-4dfa2.appspot.com",messagingSenderId:"480699770165",appId:"1:480699770165:web:afede6ad44e3753f8f987c"}),w=Object(C.g)(y),k=function(){var e=Object(n.useState)(),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),s=Object(j.a)(i,2),r=s[0],o=s[1],d=Object(n.useContext)(h),b=d.addedProducts,O=d.removeItem,x=d.clear,f=d.price,v=Object(n.useContext)(u).user,p=Object(n.useContext)(g).setNotification;Object(n.useEffect)((function(){a(f)}),[f]);var _=function(){o(!0),function(e){return new Promise((function(t,c){e=Object(m.a)(Object(m.a)({},e),{},{date:C.a.fromDate(new Date)});var n=Object(C.j)(w),a=[];e.items.forEach((function(t,c){Object(C.e)(Object(C.d)(w,"items",t.id)).then((function(t){t.data().stock>=e.items[c].quantity?n.update(Object(C.d)(w,"items",t.id),{stock:t.data().stock-e.items[c].quantity}):a.push(Object(m.a)(Object(m.a)({},t.data()),{},{id:t.id}))}))})),0===a.length&&Object(C.b)(Object(C.c)(w,"orders"),e).then((function(){n.commit().then((function(){t("La orden se ejecut\xf3 con \xe9xito")}))})).catch((function(e){c("Error al ejecutar la orden: "+e)}))}))}({buyer:v,items:b,total:c}).then((function(e){p("success",e)})).catch((function(e){p("error",e)})).finally((function(){o(!1),x()}))};return Object(l.jsxs)("article",{className:"cart",children:[b.map((function(e){return Object(l.jsxs)("section",{className:"cart__item",children:[Object(l.jsx)("img",{className:"item__Img",src:e.pictureUrl,alt:"foto ".concat(e.title)}),Object(l.jsxs)("div",{className:"itemInfo",children:[Object(l.jsx)("h2",{className:"itemTitle",children:e.title}),Object(l.jsx)("p",{className:"itemDescription",children:e.description}),Object(l.jsx)("p",{className:"itemQuantity",children:e.quantity}),Object(l.jsx)("p",{className:"price",children:"$".concat(e.price)})]}),Object(l.jsx)("button",{onClick:function(){return O(e.id)},className:"remove_Btn",children:"x"})]},e.id)})),c>0&&!r&&Object(l.jsxs)("h3",{children:["Total: $",c]}),!r&&b.length>0?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(N,{label:"Vaciar carrito",clickHandler:function(){return x()}})}):Object(l.jsx)("p",{className:"clean__paragraph",children:"Su carrito esta vac\xedo"}),!r&&b.length>0&&Object(l.jsx)("button",{onClick:function(){return _()},className:"buy__btn",children:"Confirmar Compra"})]})},L=(c(61),function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),s=Object(j.a)(i,2),r=s[0],d=s[1],b=Object(n.useContext)(u).login,O=Object(n.useContext)(g).setNotification,m=Object(o.f)();return Object(l.jsxs)("div",{className:"LoginContainer",children:[Object(l.jsx)("h3",{children:"Log In"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={username:c,password:r};b(t),O("success","Bienvenido ".concat(t.username)),m.push("/")},className:"LoginForm",children:[Object(l.jsxs)("label",{className:"LabelLogin",children:["Usuario",Object(l.jsx)("input",{className:"InputLogin",type:"text",value:c,onChange:function(e){var t=e.target;return a(t.value)}})]}),Object(l.jsxs)("label",{className:"LabelLogin",children:["Contrase\xf1a",Object(l.jsx)("input",{className:"InputLogin",type:"password",value:r,onChange:function(e){var t=e.target;return d(t.value)}})]}),Object(l.jsx)("button",{type:"submit",className:"Option__detail",children:"Login"})]})]})}),S=(c(66),function(){var e=Object(n.useContext)(g).notification;return""===e.message?null:Object(l.jsx)("div",{className:"notification_msg",style:{color:"error"===e.severity?"red":"green"},children:e.message})}),I=(c(67),c(68),function(e){var t=e.label;return Object(l.jsx)("button",{className:"navbar__item",children:t})}),E=c.p+"static/media/logo.6ce24c58.svg",D=(c(69),c(24)),P=c(28),A=Object(l.jsx)(D.a,{icon:P.c}),q=function(){var e=Object(n.useContext)(h).cartQuantity;return Object(l.jsxs)("article",{className:"widget__icon",children:[Object(l.jsx)("button",{className:"navbar__item__cartIcon",children:A}),Object(l.jsx)("p",{className:"widget__quantity",children:e})]})},F=function(){var e=Object(n.useState)(),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useContext)(u),s=i.user,o=i.logout,d=Object(n.useContext)(h).getQuantity,b=Object(n.useContext)(g).setNotification;Object(n.useEffect)((function(){return new Promise((function(e,t){Object(C.f)(Object(C.c)(w,"categories")).then((function(t){var c=t.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));e(c)})).catch((function(e){t("Error obteniendo categorias: ".concat(e))}))})).then((function(e){a(e),console.log(e)})).catch((function(e){console.log(e)})),function(){a()}}),[]);return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("section",{className:"container",children:Object(l.jsxs)("nav",{className:"NavBar ",children:[Object(l.jsx)("div",{className:"LeftNav",children:Object(l.jsxs)("div",{className:"NavOptionsLeft",children:[Object(l.jsx)(r.b,{to:"/",children:Object(l.jsx)("img",{src:E,className:"App-logo",alt:"Logo"})}),Object(l.jsx)(r.c,{activeClassName:"navLinkActive",className:"Option",exact:!0,to:"/",children:Object(l.jsx)(I,{label:"productos"})}),null===c||void 0===c?void 0:c.map((function(e){return Object(l.jsx)(r.c,{to:"/category/".concat(e.id),className:"Option",activeClassName:"navLinkActive",children:Object(l.jsx)(I,{label:e.description})},e.id)})),s?Object(l.jsx)("div",{className:"contain__logout",children:Object(l.jsx)("button",{className:"Option__detail",onClick:function(){o(),b("error","Hasta luego ".concat(s))},children:"Logout"})}):Object(l.jsx)(r.c,{className:"Option",to:"/login",children:Object(l.jsx)(I,{label:"Login",children:"Login"})})]})}),Object(l.jsx)("div",{className:"RightNav",children:Object(l.jsx)("div",{className:"NavOptionsRight",children:Object(l.jsx)("div",{children:s&&d()>0&&Object(l.jsx)(r.b,{to:"/cart",children:Object(l.jsx)(q,{})})})})})]})})})},B=(c(72),c(73),function(e){var t,c=e.itemData;return Object(l.jsx)("div",{className:"animate__animated animate__fadeInUp",children:Object(l.jsx)("div",{className:"card",children:Object(l.jsxs)("div",{className:"card__body",children:[Object(l.jsx)("div",{className:"overflow__img",children:Object(l.jsx)(r.b,{to:"/item/".concat(c.id),children:Object(l.jsx)("img",{className:"card__img",alt:"#",src:c.pictureUrl})})}),Object(l.jsx)("div",{className:"cards__text ",children:Object(l.jsxs)("div",{className:"containerPrice",children:[Object(l.jsx)("p",{className:"description",children:(t=c.title,t.charAt(0).toUpperCase()+t.toLowerCase().slice(1))}),Object(l.jsxs)("p",{className:"price",children:["$",c.price]})]})}),Object(l.jsx)(r.b,{to:"/item/".concat(c.id),className:"Button_Link",children:"Ver detalles"})]})})})}),H=(c(74),function(e){var t=e.products;return Object(l.jsx)("article",{className:"container__cards",children:t.map((function(e){return Object(l.jsx)(B,{itemData:e},e.id)}))})}),T=(c(75),c(76),Object(l.jsx)(D.a,{icon:P.d})),U=function(){return Object(l.jsx)("div",{className:"contain_Spinner",children:Object(l.jsx)("div",{className:"Spinner",children:T})})},Q=c.p+"static/media/wallet.fc6a6f50.svg",$=c.p+"static/media/client.e8aff30a.svg",z=c.p+"static/media/carrito-home.98d6ca8f.jpeg",G=c.p+"static/media/eastwood.9631375e.png",J=(c(77),function(){return Object(l.jsx)("section",{className:"container-home",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-2",children:[Object(l.jsxs)("h1",{children:["Ver lo destacado ",Object(l.jsx)("br",{})," en nuestra tienda"]}),Object(l.jsx)("h3",{children:"Imperdibles descuentos en su primera compra. Deslice para verlos"})]}),Object(l.jsx)("div",{className:"content-all",children:Object(l.jsxs)("div",{className:"content-carrousel",children:[Object(l.jsx)("figure",{children:Object(l.jsx)("img",{alt:"Filtros Slim",src:$})}),Object(l.jsx)("figure",{children:Object(l.jsx)("img",{alt:"Home money",src:Q})}),Object(l.jsx)("figure",{children:Object(l.jsx)("img",{alt:"carrito home",src:z})}),Object(l.jsx)("figure",{children:Object(l.jsx)("img",{alt:"eastwood",src:G})})]})})]})})}),V=c.p+"static/media/slideGrow.54f62364.png",R=c.p+"static/media/stockGrow.44017457.png",K=[{image:"https://elmejorgrowshop.es/modules/angarslider/views/img/images/747f1e4353e355d40d62c1ada13e62eea4327c1f_carrusel%20kit%20armario1.jpg"},{image:V},{image:c.p+"static/media/cultiveGeow.f1da127b.png"},{image:R}],M=(c(78),Object(l.jsx)(D.a,{icon:P.b})),Y=Object(l.jsx)(D.a,{icon:P.a}),W=function(e){var t=e.slides,c=Object(n.useState)(0),a=Object(j.a)(c,2),i=a[0],s=a[1],r=t.length;return console.log(i),console.log(r),!Array.isArray(t)||t.length<=0?null:Object(l.jsxs)("section",{className:"slider",children:[Object(l.jsx)("div",{className:"left__arrow",onClick:function(){s(0===i?r-1:i-1)},children:Y}),Object(l.jsx)("div",{className:"right__arrow",onClick:function(){s(i===r-1?0:i+1)},children:M}),K.map((function(e,t){return Object(l.jsx)("div",{className:t===i?"slide active":"slide",children:t===i&&Object(l.jsx)("img",{src:e.image,alt:"growImage",className:"img__Slider"})},t)}))]})},X=(c(79),c(34)),Z=Object(l.jsx)(D.a,{icon:X.c}),ee=Object(l.jsx)(D.a,{icon:X.b}),te=Object(l.jsx)(D.a,{icon:X.a}),ce=function(){return Object(l.jsxs)("footer",{className:"footer__home",children:[Object(l.jsxs)("div",{className:"waves",children:[Object(l.jsx)("div",{className:"wave",id:"wave1"}),Object(l.jsx)("div",{className:"wave",id:"wave2"}),Object(l.jsx)("div",{className:"wave",id:"wave3"}),Object(l.jsx)("div",{className:"wave",id:"wave4"})]}),Object(l.jsxs)("ul",{className:"social_icon",children:[Object(l.jsx)("li",{children:Object(l.jsx)(r.b,{className:"link_icon",to:"/linkedin",children:Z})}),Object(l.jsx)("li",{children:Object(l.jsx)(r.b,{className:"link_icon",to:"/facebook",children:ee})}),Object(l.jsx)("li",{children:Object(l.jsx)(r.b,{className:"link_icon",to:"/behance",children:te})})]}),Object(l.jsx)("p",{children:"2021 Ecommerce Leeps | Derechos reservados"})]})},ne=function(){var e=Object(o.g)().categoryid,t=Object(n.useState)([]),c=Object(j.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(!0),r=Object(j.a)(s,2),d=r[0],b=r[1];return Object(n.useEffect)((function(){var t,c,n;return b(!0),(t="category",c="==",n=e,new Promise((function(e,a){var i=t&&c&&n?Object(C.h)(Object(C.c)(w,"items"),Object(C.i)(t,c,n)):Object(C.c)(w,"items");Object(C.f)(i).then((function(t){var c=t.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));e(c)})).catch((function(e){a("Error obtendiendo productos ".concat(n?"por categoria":"",": ").concat(e))}))}))).then((function(e){i(e)})).catch((function(e){console.log(e)})).finally((function(){b(!1)})),function(){b(!0),i([])}}),[e]),Object(l.jsxs)("section",{children:[Object(l.jsxs)("div",{className:"itemListContainer",children:[Object(l.jsx)(J,{}),Object(l.jsx)("h1",{children:"Productos"}),d?Object(l.jsx)(U,{}):Object(l.jsx)(H,{products:a})]}),Object(l.jsx)(W,{slides:K}),Object(l.jsx)(ce,{})]})},ae=(c(80),c(81),function(e){var t=e.item,c=e.itemAdded,a=Object(n.useState)(1),i=Object(j.a)(a,2),s=i[0],r=i[1],o=Object(n.useContext)(h).addItem;return Object(l.jsxs)("div",{className:"itemCount",children:[Object(l.jsxs)(n.Fragment,{children:[Object(l.jsxs)("div",{className:"itemCount__buttons",children:[Object(l.jsx)("p",{className:"parrafo__count",children:s}),Object(l.jsx)("button",{className:"button__count",disabled:s===t.stock,onClick:function(){s<t.stock&&r(s+1)},children:"+"}),Object(l.jsx)("button",{className:"button__count",disabled:1===s,onClick:function(){s>1&&r(s-1)},children:"-"})]}),s<=0?Object(l.jsx)("p",{children:"Cuantas unidades desea llevar?"}):Object(l.jsx)(N,{label:"Agregar al carrito",clickHandler:function(){return function(e,t){o(e,t),c(!0)}(t,s)}})]}),Object(l.jsxs)("p",{className:"stock",children:["Stock: ",t.stock]})]})}),ie=(c(82),function(e){return e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)}),se=function(e){var t=e.item,c=Object(n.useState)(!1),a=Object(j.a)(c,2),i=a[0],s=a[1],o=Object(n.useContext)(u).user;return t?Object(l.jsxs)("section",{children:[Object(l.jsx)("header",{children:Object(l.jsx)("h2",{className:"title_detail",children:ie(t.title)})}),Object(l.jsxs)("main",{className:"mainDetail",children:[Object(l.jsx)("img",{className:"card__img_detail",src:t.pictureUrl,alt:"PictureDetail"}),Object(l.jsx)("div",{className:"details_details",children:Object(l.jsx)("p",{className:"description_detail",children:ie(t.longDescription)})}),Object(l.jsx)("footer",{className:"footer__detail",children:i?o?Object(l.jsx)(r.b,{to:"/cart",children:Object(l.jsx)(N,{label:"Finalizar compra"})}):Object(l.jsx)(r.b,{to:"/login",children:Object(l.jsx)("button",{onClick:function(){console.log("activo")},className:"Option__detail",label:"Login",children:"Login"})}):Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{className:"price_detail",children:["$",t.price]}),Object(l.jsx)(ae,{item:t,itemAdded:s})]})})]})]}):Object(l.jsx)(U,{})},re=function(){var e=Object(n.useState)(void 0),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!0),s=Object(j.a)(i,2),r=s[0],d=s[1],b=Object(o.g)().id;return Object(n.useEffect)((function(){var e;return d(!0),(e=b,new Promise((function(t,c){Object(C.e)(Object(C.d)(w,"items",e)).then((function(e){var c=Object(m.a)({id:e.id},e.data());t(c)})).catch((function(e){c("Error obteniendo producto: "+e)}))}))).then((function(e){a(e)})).catch((function(e){console.log(e)})).finally((function(){d(!1)})),function(){d(!0),a(void 0)}}),[b]),Object(l.jsx)("div",{className:"itemDetailContainer",children:r?Object(l.jsx)(U,{}):Object(l.jsx)(se,{item:c})})},oe=function(){var e=Object(n.useContext)(u).user;return Object(l.jsx)(p,{children:Object(l.jsx)(f,{children:Object(l.jsxs)(r.a,{children:[Object(l.jsx)(F,{}),Object(l.jsx)(S,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",children:Object(l.jsx)(ne,{})}),Object(l.jsx)(o.a,{path:"/category/:categoryid",children:Object(l.jsx)(ne,{})}),Object(l.jsx)(o.a,{path:"/item/:id",children:Object(l.jsx)(re,{})}),Object(l.jsx)(o.a,{path:"/cart",user:e,children:Object(l.jsx)(k,{})}),Object(l.jsx)(o.a,{path:"/login",children:Object(l.jsx)(L,{})})]})]})})})},je=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,84)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(b,{children:Object(l.jsx)(oe,{})})}),document.getElementById("root")),je()}},[[83,1,2]]]);
//# sourceMappingURL=main.d3edde15.chunk.js.map